/////////////////////////////////////////
///     Descrição do arquivo:
///     @author     Renan Godoi de Medeiros
///     @since      ??/04/2017
///     @version    1.0
/////////////////////////////////////////

#ifndef GERCARQUIZ_H
#define GERCARQUIZ_H
#include <stdio.h>  /*bibliotecas*/
#include <stdlib.h>
#include <stdexcept>
#include <iostream>
#include "dirent.h"

/*verifica qual a versao do SO*/
#ifdef __WIN32__
#include <windows.h>
#include <direct.h>
#define CLEAR "cls"
#elif __linux__
#define CLEAR "clear"
#endif

using namespace std;

class GerQuiz /*gerenciador de quiz*/
{
private:

    //////////////////////////////////////////////////////////////////////////////////
    ///     @param dado Dado fornecido que será procurado no arquivo
    ///     Captura atributos de dados lidos do arquivo com quiz
    //////////////////////////////////////////////////////////////////////////////////
    void PegaAttributo(string dado);/**/

    //////////////////////////////////////////////////////////////////////////////////
    ///     @param editind Índice a ser editado
    ///     @param novap Nova pergunta pro quiz
    ///     @brief Reorganiza o arquivo quiz com as perguntas
    //////////////////////////////////////////////////////////////////////////////////
    void ReorganizarPerguntaArquivo(string editind,string novap);

    //////////////////////////////////////////////////////////////////////////////////
    ///     @param form1
    ///     @param form2
    ///     @param form3
    ///     @brief Formula as perguntas no arquivo
    //////////////////////////////////////////////////////////////////////////////////
    string FormularPerguntaArquivo(string form1,string form2,string form3);

    //////////////////////////////////////////////////////////////////////////////////
    ///     @brief Busca a pergunta no arquivo atravez de um indice
    //////////////////////////////////////////////////////////////////////////////////
    string BuscarPergunta(string ind);

    //////////////////////////////////////////////////////////////////////////////////
    ///     data1 = index de uma pergunta
    ///     data2 = pergunta data
    ///     data3 = resposta
    //////////////////////////////////////////////////////////////////////////////////
    string data1,data2,data3;

    //////////////////////////////////////////////////////////////////////////////////
    ///     Nome do arquivo e nome do diretório
    //////////////////////////////////////////////////////////////////////////////////
    string arquivo,diretorio;

    //////////////////////////////////////////////////////////////////////////////////
    ///     Índice referente aos tópicos e disciplinas relacionados
    //////////////////////////////////////////////////////////////////////////////////
    string indice;
public:
    //////////////////////////////////////////////////////////////////////////////////
    ///     @brief Construtor
    //////////////////////////////////////////////////////////////////////////////////
    GerQuiz();

    //////////////////////////////////////////////////////////////////////////////////
    ///     @brief Destrutor
    //////////////////////////////////////////////////////////////////////////////////
    ~GerQuiz();

    //////////////////////////////////////////////////////////////////////////////////
    ///     
    //////////////////////////////////////////////////////////////////////////////////
    void SetIndexTopicDisc(string index);

    //////////////////////////////////////////////////////////////////////////////////
    ///     @brief
    //////////////////////////////////////////////////////////////////////////////////
    void CriarQuiz() throw(invalid_argument);/*metodo que cria o arquivo contendo o quiz*/

    //////////////////////////////////////////////////////////////////////////////////
    ///     
    //////////////////////////////////////////////////////////////////////////////////
    bool carregaQuiz();/*metodo que carrega o arquivo contendo o quiz*/

    //////////////////////////////////////////////////////////////////////////////////
    ///     @brief Método que tenta carregar o quiz previamente setado
    //////////////////////////////////////////////////////////////////////////////////
    void CarregaQuizEditar()throw(invalid_argument);

    //////////////////////////////////////////////////////////////////////////////////
    ///     @brief Seleciona o arquivo contendo o quiz
    //////////////////////////////////////////////////////////////////////////////////
    void SelecionarArquivo()throw(invalid_argument);

    //////////////////////////////////////////////////////////////////////////////////
    ///     @brief Apaga o arquivo contendo o quiz
    //////////////////////////////////////////////////////////////////////////////////
    void ApagarQuiz()throw(invalid_argument);

    //////////////////////////////////////////////////////////////////////////////////
    ///     @brief Adiciona perguntas ao quiz setado em questão
    //////////////////////////////////////////////////////////////////////////////////
    void AdicionarPerguntas()throw(invalid_argument);

    //////////////////////////////////////////////////////////////////////////////////
    ///     @brief Editor de perguntas no arquivo do quiz
    //////////////////////////////////////////////////////////////////////////////////
    void EditarPergunta()throw(invalid_argument);

    //////////////////////////////////////////////////////////////////////////////////
    ///     @brief Deleta perguntas do arquivo com quiz
    //////////////////////////////////////////////////////////////////////////////////
    void DeletarPergunta()throw(invalid_argument);

    //////////////////////////////////////////////////////////////////////////////////
    ///     @brief Retorna o destino juntamente ao nome do último arquivo setado
    //////////////////////////////////////////////////////////////////////////////////
    string getQuizFileName();

    //////////////////////////////////////////////////////////////////////////////////
    ///     @brief Retorna a pasta contendo os quizes
    //////////////////////////////////////////////////////////////////////////////////
    string getFolderFilesName();

    //////////////////////////////////////////////////////////////////////////////////
    ///     @brief Retorna uma lista com todos os nomes dos quizes dentro de uma pasta
    //////////////////////////////////////////////////////////////////////////////////
    string getQuizesFilesName();
};

#endif // GERCARQUIZ_H
